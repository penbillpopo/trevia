<section class="page">
  <header class="page__header">
    <div>
      <h1 class="page__title">分類管理</h1>
      <p class="page__description">
        維護旅遊商品分類樹狀結構，控制前台顯示順序與可見性，協助使用者快速找到理想行程。
      </p>
    </div>
    <div class="page__actions">
      <button class="button button--primary" type="button">新增分類</button>
      <button class="button button--ghost" type="button">重新排序</button>
    </div>
  </header>

  <section class="panel">
    <h2 class="panel__title">分類階層</h2>
    <div class="category-tree">
      <ul class="category-tree__list">
        <li class="category-tree__item" *ngFor="let category of categories">
          <div class="category-tree__row">
            <span class="category-tree__name">{{ category.name }}</span>
            <span class="badge badge--success">{{ category.products }} 個商品</span>
            <span
              class="badge"
              [ngClass]="{
                'badge--success': category.visibility === 'public',
                'badge--warning': category.visibility === 'hidden'
              }"
            >
              {{ category.visibility === 'public' ? '顯示中' : '隱藏' }}
            </span>
          </div>
          <ul class="category-tree__list" *ngIf="category.children?.length">
            <li class="category-tree__item" *ngFor="let child of category.children">
              <div class="category-tree__row category-tree__row--child">
                <span class="category-tree__name">{{ child.name }}</span>
                <span class="badge badge--success">{{ child.products }} 個商品</span>
                <span
                  class="badge"
                  [ngClass]="{
                    'badge--success': child.visibility === 'public',
                    'badge--warning': child.visibility === 'hidden'
                  }"
                >
                  {{ child.visibility === 'public' ? '顯示中' : '隱藏' }}
                </span>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </section>
</section>
