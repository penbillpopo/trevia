<section class="page">
  <header class="page__header">
    <div>
      <h1 class="page__title">交易紀錄</h1>
      <p class="page__description">
        瀏覽所有金流交易狀態，包含信用卡、電子支付與退款流程，確保帳務對帳順暢。
      </p>
    </div>
    <div class="page__actions">
      <button class="button button--ghost" type="button">對帳報表</button>
      <button class="button button--primary" type="button">匯出 CSV</button>
    </div>
  </header>

  <section class="panel">
    <h2 class="panel__title">交易列表</h2>
    <table class="data-table">
      <thead>
        <tr>
          <th>金流編號</th>
          <th>訂單編號</th>
          <th>會員</th>
          <th>付款方式</th>
          <th>狀態</th>
          <th>金額</th>
          <th>付款時間</th>
          <th>備註</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tx of transactions">
          <td>{{ tx.paymentNo }}</td>
          <td>{{ tx.orderNo }}</td>
          <td>{{ tx.member }}</td>
          <td>{{ tx.method }}</td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'badge--success': tx.status === 'success',
                'badge--warning': tx.status === 'pending',
                'badge--danger': tx.status === 'failed',
                'badge--info': tx.status === 'refunded'
              }"
            >
              {{
                tx.status === 'success'
                  ? '成功'
                  : tx.status === 'pending'
                  ? '處理中'
                  : tx.status === 'failed'
                  ? '失敗'
                  : '已退款'
              }}
            </span>
          </td>
          <td>{{ tx.amount | currency: 'TWD':'symbol-narrow':'1.0-0' }}</td>
          <td>{{ tx.paidAt }}</td>
          <td>{{ tx.note || '—' }}</td>
        </tr>
      </tbody>
    </table>
  </section>
</section>
